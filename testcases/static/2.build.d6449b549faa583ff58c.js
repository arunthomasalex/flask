(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{250:function(t,e,a){var n=a(34),r=a(251);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var s={insert:"head",singleton:!1};n(r,s);t.exports=r.locals||{}},251:function(t,e,a){(e=a(35)(!1)).push([t.i,'div.tooltip{position:absolute;text-align:center;width:80px;height:60px;padding:2px 0px 0px 4px;font:10px sans-serif;background:lightsteelblue;border:0px;border-radius:6px;pointer-events:none}div.line_tooltip{position:absolute;text-align:center;width:auto;height:45px;padding:4px 2px 0px 2px;font:10px sans-serif;background:lightsteelblue;border:0px;border-radius:6px;pointer-events:none}.grid-container{display:grid;grid-template-columns:auto auto;margin:0px 0px -4px 0px}.grid-item{text-align:left}.grid-row::before{color:red;content:"* "}.grid-row{font-style:italic;padding:2px;grid-column-start:1;grid-column-end:3}.note{padding:50px}.chart select.dropdown{padding:0.5em;align-items:center}\n',""]),t.exports=e},320:function(t,e,a){"use strict";a.r(e);var n=a(29),r=a.n(n),s=a(7),i=a.n(s),o=a(257),c=a.n(o),l=a(258),p=a.n(l),u=a(19),d=a.n(u),h=a(20),f=a.n(h),g=a(6),m=a.n(g),y=a(21),v=a.n(y),x=a(22),b=a.n(x),w=a(15),k=a.n(w),C=a(0),D=a.n(C),O=a(23),j=a(259),G=a(9),E=a.n(G);a(250);function P(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function A(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?P(Object(a),!0).forEach((function(e){i()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):P(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function F(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,n=k()(t);if(e){var r=k()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return b()(this,a)}}var R=function(t){v()(o,t);var e,a,n,s,i=F(o);function o(t){var e;return d()(this,o),(e=i.call(this)).lineChart=D.a.createRef(),e.state={type:t.app_type},e.lineAttributes=[{label:"passed",color:"#28a745"},{label:"failed",color:"#b33040"},{label:"completed",color:"#34baeb"},{label:"target",color:"#060708"}],e.subGraph=e.subGraph.bind(m()(e)),e.yearChange=e.yearChange.bind(m()(e)),e.suiteChange=e.suiteChange.bind(m()(e)),e}return f()(o,[{key:"componentDidMount",value:(s=p()(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.title=this.props.title?this.props.title:"LINE CHART",t.next=3,j.g("".concat(E.a.apiUrl,"/testcases?type=").concat(this.props.app_type));case 3:this.actualData=t.sent,this.mainGraph();case 5:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"subGraph",value:function(t){if((t=this.actualData.filter((function(e){return e.dated===t.date})))&&t.length>0){t=(t=t[0]).datas.map((function(t){var e=t.completed-t.passed;return{dated:t.dated,target:t.target,completed:t.completed,failed:e>0?e:0,passed:t.passed}})),this.createGraph({top:30,right:70,bottom:30,left:60},t,!0)}else this.mainGraph()}},{key:"mainGraph",value:function(){var t=this.actualData.map((function(t){return{datas:t.datas,dated:t.dated,target:t.target,completed:t.completed,failed:t.completed-t.passed,passed:t.passed}}));this.createGraph({top:30,right:70,bottom:50,left:60},t)}},{key:"createGraph",value:(n=p()(c.a.mark((function t(e,a){var n,r,s,i,o,l,p,u,d,h,f,g,m,y,v,x,b,w,k=this,C=arguments;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=C.length>2&&void 0!==C[2]&&C[2],r=this.props,s=r.h,i=r.w,o=i-e.left-e.right,l=s-e.top-e.bottom,p=n?j.q("%d-%m-%Y"):j.q("%m-%Y"),u=n?j.r("%d-%m-%Y"):j.r("%m-%Y"),a.sort((function(t,e){return u(t.dated)-u(e.dated)})),j.o(this.lineChart.current).select("svg").remove(),(d=j.o(this.lineChart.current).append("svg").attr("width",o+e.left+e.right).attr("height",l+e.top+e.bottom).append("g").attr("transform","translate("+e.left+","+e.top+")")).append("text").attr("x",o/2).attr("y",0-e.top/2).attr("text-anchor","middle").style("font-size","16px").style("text-decoration","underline").text("".concat(this.title," (").concat(n?"Monthly":"Summary",")")),h=this.lineAttributes.map((function(t){return{id:t.label,color:t.color,values:a.map((function(e){return{date:u(e.dated),value:e[t.label],label:t.label.charAt(0).toUpperCase()+t.label.slice(1)}}))}})),f=j.n().domain(j.f(a,(function(t){return u(t.dated)}))).range([0,o]),g=j.q(n?"%d %b":"%b %Y"),m=j.b().ticks(a.length).tickFormat(g).scale(f),d.append("g").attr("class","x-axis").attr("transform","translate(0,"+l+")").call(m).selectAll("text").attr("y",0).attr("x",9).attr("dy",".35em").attr("transform","rotate(45)").style("text-anchor","start"),d.append("text").attr("text-anchor","end").style("font-weight","700").attr("x",o/2).attr("y",l+20).text(n?"Days":"Months"),y=j.l().domain([0,j.i(a,(function(t){return t.target}))]).range([l,0]),v=j.c(y).ticks(5),d.append("g").attr("class","y-axis").call(v),d.append("text").attr("text-anchor","end").style("font-weight","700").attr("transform","rotate(-90)").attr("y",30-e.left).attr("x",-l/2+50).text("# of Testcases"),x=j.h().x((function(t){return f(t.date)})).y((function(t){return y(t.value)})),(b=d.selectAll("g.lines").data(h).enter()).append("path").attr("fill","none").attr("stroke",(function(t){return t.color})).attr("stroke-width",1.9).attr("d",(function(t){return x(t.values)})),b.append("text").attr("class","serie_label").attr("stroke",(function(t){return t.values[t.values.length-1]?t.color:"#FFFFFF"})).datum((function(t){return{id:t.id,value:t.values[t.values.length-1]}})).attr("transform",(function(t){try{return"translate("+f(t.value.date)+","+y(t.value.value)+")"}catch(t){}})).attr("x",5).style("font-family","monospace").style("text-anchor","start").style("font-size","12px").text((function(t){return t.id.charAt(0).toUpperCase()+t.id.slice(1)})),d.selectAll("myDots").data(h).enter().append("g").style("fill",(function(t){return t.color})).attr("class",(function(t){return t.id})).selectAll("myPoints").data((function(t){return t.values})).enter().append("circle").attr("cx",(function(t){return f(t.date)})).attr("cy",(function(t){return y(t.value)})).attr("r",5).attr("stroke","white").on("mousemove",(function(t){w.transition().style("opacity",.9),w.html('<span class="grid-container"><span class="grid-item">'.concat(t.label,':</span><span class="grid-item">').concat(t.value,'</span>\n                           <span class="grid-item">Dated:</span><span class="grid-item">').concat(p(t.date),'</span>\n                           <span class="grid-row">Click here to ').concat(n?"go back":"drill down","</span></span>")).style("left",j.e.pageX-50+"px").style("top",j.e.pageY-45+"px")})).on("mouseout",(function(t){w.transition().style("opacity",0)})).on("click",(function(t){w.transition().style("opacity",0),k.subGraph(A(A({},t),{},{date:p(t.date)}))})),w=j.o(this.lineChart.current).append("div").attr("class","line_tooltip").style("opacity",0);case 26:case"end":return t.stop()}}),t,this)}))),function(t,e){return n.apply(this,arguments)})},{key:"createCritera",value:function(t){var e=A(A({},this.state),t);return Object.entries(e).filter((function(t){return null!=t[1]})).map((function(t){var e=r()(t,2),a=e[0],n=e[1];return"".concat(a,"=").concat(n)})).join("&")}},{key:"yearChange",value:(a=p()(c.a.mark((function t(e){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),a=null,a="Default"===e.target.value?{year:null}:{year:e.target.value},t.next=5,j.g("".concat(E.a.apiUrl,"/testcases?").concat(this.createCritera(a)));case 5:this.actualData=t.sent,this.setState(a),this.mainGraph();case 8:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)})},{key:"suiteChange",value:(e=p()(c.a.mark((function t(e){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),a=null,a=""===e.target.value?{suite:null}:{suite:e.target.value},t.next=5,j.g("".concat(E.a.apiUrl,"/testcases?").concat(this.createCritera(a)));case 5:this.actualData=t.sent,this.setState(a),this.mainGraph();case 8:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"render",value:function(){var t=this.props.years?this.props.years.map((function(t){return D.a.createElement("option",{key:t,value:t},t)})):D.a.createElement("option",null,"Default"),e=this.props.suites?this.props.suites.map((function(t){return D.a.createElement("option",{key:t,value:t},t)})):D.a.createElement("option",null);return D.a.createElement("div",{className:"chart"},D.a.createElement("select",{className:"dropdown",onChange:this.yearChange},t),D.a.createElement("select",{className:"dropdown",onChange:this.suiteChange},e),D.a.createElement("div",{ref:this.lineChart}))}}]),o}(C.Component);var _=Object(O.b)((function(t){var e=t.chart;return{years:e.years,suites:e.suites}}),{})(R);e.default=_}}]);