(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{250:function(t,e,a){var n=a(34),r=a(251);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var s={insert:"head",singleton:!1};n(r,s);t.exports=r.locals||{}},251:function(t,e,a){(e=a(35)(!1)).push([t.i,'div.tooltip{position:absolute;text-align:center;width:80px;height:60px;padding:2px 0px 0px 4px;font:10px sans-serif;background:lightsteelblue;border:0px;border-radius:6px;pointer-events:none}div.line_tooltip{position:absolute;text-align:center;width:auto;height:45px;padding:4px 2px 0px 2px;font:10px sans-serif;background:lightsteelblue;border:0px;border-radius:6px;pointer-events:none}.grid-container{display:grid;grid-template-columns:auto auto;margin:0px 0px -4px 0px}.grid-item{text-align:left}.grid-row::before{color:red;content:"* "}.grid-row{font-style:italic;padding:2px;grid-column-start:1;grid-column-end:3}.note{padding:50px}.chart select.dropdown{padding:0.5em;align-items:center}\n',""]),t.exports=e},317:function(t,e,a){"use strict";a.r(e),a.d(e,"default",(function(){return D}));var n=a(257),r=a.n(n),s=a(258),i=a.n(s),o=a(19),l=a.n(o),c=a(20),p=a.n(c),d=a(6),u=a.n(d),f=a(21),h=a.n(f),g=a(22),m=a.n(g),x=a(15),b=a.n(x),y=a(0),v=a.n(y),w=a(259),k=a(9),C=a.n(k);a(250);function G(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,n=b()(t);if(e){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return m()(this,a)}}var D=function(t){h()(s,t);var e,a,n=G(s);function s(){var t;return l()(this,s),(t=n.call(this)).barChart=v.a.createRef(),t.colors=["#28a745","#b33040"],t.labels=["passed","failed"],t.subGraph=t.subGraph.bind(u()(t)),t}return p()(s,[{key:"getData",value:function(t){return new Promise((function(e){return w.g(t).then((function(t){return e(t)}))}))}},{key:"createGraph",value:(a=i()(r.a.mark((function t(e,a){var n,s,i,o,l,c,p,d,u,f,h,g,m,x,b,y=this,v=arguments;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=v.length>2&&void 0!==v[2]&&v[2],s=this.props,i=s.h,o=s.w,l=o-e.left-e.right,c=i-e.top-e.bottom,p=n?w.q("%d-%m-%Y"):w.q("%m-%Y"),d=n?w.r("%d-%m-%Y"):w.r("%m-%Y"),a.sort((function(t,e){return d(t.dated)-d(e.dated)})),u=w.m().range(this.colors).domain(this.labels),f=w.p().keys(this.labels)(a),w.o(this.barChart.current).select("svg").remove(),(h=w.o(this.barChart.current).append("svg").attr("width",l+e.left+e.right).attr("height",c+e.top+e.bottom).append("g").attr("transform","translate("+e.left+","+e.top+")")).append("text").attr("x",l/2).attr("y",0-e.top/2).attr("text-anchor","middle").style("font-size","16px").style("text-decoration","underline").text(this.title),g=w.k().domain(a.map((function(t){return d(t.dated)}))).rangeRound([0,l]).padding(.1),h.append("g").attr("class","x-axis").attr("transform","translate(0,"+c+")").call(w.b(g).ticks(a.length).tickFormat(p)),h.append("text").attr("text-anchor","end").attr("x",l/2).attr("y",c+30).text("Dates"),m=w.l().domain([0,w.i(a,(function(t){return t.total}))]).range([c,0]),h.append("g").attr("class","y-axis").call(w.c(m).ticks(5)),h.append("text").attr("text-anchor","end").attr("transform","rotate(-90)").attr("y",30-e.left).attr("x",-c/2+50).text("Number of Testcases"),h.selectAll("g.cases").data(f).enter().append("g").attr("class","cases").style("fill",(function(t){return u(t.key)})).selectAll("rect").data((function(t){return t})).join("rect").attr("x",(function(t){return g(d(t.data.dated))})).attr("y",(function(t){return m(t[1])})).attr("height",(function(t){return m(t[0])-m(t[1])})).attr("width",g.bandwidth()).on("mousemove",(function(t){var e=t.data;b.transition().style("opacity",.9),b.html('<span class="grid-container"><label class="grid-item">Target:</label><span class="grid-item">'.concat(e.total,'</span></span>\n                            <span class="grid-container"><label class="grid-item">Completed:</label><span class="grid-item">').concat(e.failed+e.passed,'</span></span>\n                            <span class="grid-container"><label class="grid-item">Passed:</label><span class="grid-item">').concat(e.passed,'</span></span>\n                            <span class="grid-container"><label class="grid-item">Failed:</label><span class="grid-item">').concat(e.failed,"</span></span>")).style("left",w.e.pageX+"px").style("top",w.e.pageY-28+"px")})).on("mouseout",(function(t){b.transition().style("opacity",0)})).on("click",(function(t){b.transition().style("opacity",0),y.subGraph(t)})),(x=h.selectAll(".legend").data(this.colors).enter().append("g").attr("class","legend").attr("transform",(function(t,e){return"translate(30,"+19*e+")"}))).append("rect").attr("x",l-3*e.right).attr("width",20).attr("height",3).style("fill",(function(t){return t})),x.append("text").attr("x",l-2*e.right).attr("y",0).attr("dy",".35em").attr("fill","black").style("text-anchor","start").text((function(t,e){return y.labels[e].charAt(0).toUpperCase()+y.labels[e].slice(1)})),b=w.o(this.barChart.current).append("div").attr("class","tooltip").style("opacity",0);case 23:case"end":return t.stop()}}),t,this)}))),function(t,e){return a.apply(this,arguments)})},{key:"subGraph",value:function(t){var e=t.data.datas;if(e){var a=e.map((function(t){var e=t.completed-t.passed;return{dated:t.dated,total:t.total,failed:e>0?e:0,passed:t.passed}}));this.createGraph({top:30,right:30,bottom:30,left:60},a,!0)}else this.mainGraph()}},{key:"mainGraph",value:function(){var t=this.actualData.map((function(t){return{datas:t.datas,dated:t.dated,total:t.total,failed:t.completed-t.passed,passed:t.passed}}));this.createGraph({top:30,right:30,bottom:30,left:60},t)}},{key:"componentDidMount",value:(e=i()(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.title=this.props.title?this.props.title:"STACKED BAR CHART",t.next=3,this.getData("".concat(C.a.apiUrl,"/testcases"));case 3:this.actualData=t.sent,this.mainGraph();case 5:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"render",value:function(){return v.a.createElement("div",{ref:this.barChart})}}]),s}(y.Component)}}]);